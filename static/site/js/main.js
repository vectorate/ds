$(document).ready(function(){$('.nameholder').css('cursor','pointer');jQuery.support.placeholder=false;test=document.createElement('input');if('placeholder'in test)jQuery.support.placeholder=true;if(!$.support.placeholder){$("input").each(function(){var phinput=$(this);if(phinput.val()==""&&phinput.attr("placeholder")!=""){phinput.val(phinput.attr("placeholder")).addClass('input-placeholder');phinput.focus(function(){if(phinput.val()==phinput.attr("placeholder")){phinput.val("").removeClass('input-placeholder');}});phinput.blur(function(){if(phinput.val()=="")phinput.val(phinput.attr("placeholder")).addClass('input-placeholder');});}});}
$('.nameholder').click(function(){$('#nav-user-menu').toggle();});$('.nameholder a').click(function(){$('.nameholder').hide();});$('#change-language').click(function(){$('body').append('<div class="black-overlay" id="overlay"><div class="vcenter-modal"><div id="language-switcher" class="white-modal"><div class="close"></div><ul id="modalul"></ul><div class="clearboth"></div></div></div></div>');$.getJSON(base_url+'json_data/change_language.json',function(data){var languages="";$.each(data,function(key,val){languages+=('<li><a id="'+key+'" class="lang-noclick" href="'+base_url+'language/'+key+'"><img width="48" height="48" src="'+base_url+val['img-src']+'" alt="'+val['name']+'"><span>'+val['name']+'</span></a>');});$('#modalul').append(languages);$('#overlay').show();$('a.lang-noclick').click(function(e){$.get($(this).attr('href'),function(d,txtStat,jq){location.reload();});e.preventDefault();});$('#language-switcher').fadeIn(500);});return false;});$('body').on('click','#overlay .close',function(){$('#overlay').remove();});$('#login-button').click(function(){$(this).css('background-position','-78px -28px');$('body').append('<div class="transparent-overlay login-pop-overlay"></div>');$('.transparent-overlay').show();$('#login-popover').fadeIn(300);$('#login-popover input[name=username]').focus();return false;});$('#login-cancel-button').click(function(){hide_loginpopover();});$('body').on('click','.transparent-overlay.login-pop-overlay',function(){hide_loginpopover();});function hide_loginpopover(){$('#login-button').css('background-position','77px 0');$('#login-popover').fadeOut(300);$('.transparent-overlay').remove();}});function modalConfirmLink(target,title,text,buttons,liveParent){if($('#confirmdel').length<1){$('body').append('<div style="display:none;"><div id="confirmdel"><h2>Title not set</h2><div class="text"><p>Text not set</p> \
		  <hr /> <p style="float:right;"> <button id="confcancel">Cancel, keep comment(s)</button> <button id="confconf">Delete comment(s)</button> </p></div></div></div>');$('#confcancel').click(function(e){$.fancybox.close()});$('#confconf').click(function(e){$($(this).data('link')).trigger('click',[true]);$.fancybox.close();});}
var handler=function(e,confirm){if(confirm===true){window.location=$(this).attr('href');}
var self=this;e.preventDefault();$('#confirmdel').children('h2').text(title).parent().find('.text p:first').text(text);$('#confconf').text(buttons[1]);$('#confcancel').text('Cancel, '+ buttons[0]);$('#confconf').data('link',self);$.fancybox([{href:'#confirmdel'}],{type:'inline',modal:true});$.fancybox.open();};if(liveParent!=undefined){if(!(liveParent instanceof jQuery))liveParent=$(liveParent);liveParent.on('click',target,handler);}else{if(!(target instanceof jQuery))target=$(target);target.on('click',handler);}}